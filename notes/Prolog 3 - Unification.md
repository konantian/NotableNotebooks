---
title: Prolog 3 - Unification
tags: [Notebooks/Cmput 325]
created: '2019-03-26T22:21:25.968Z'
modified: '2019-03-27T02:06:51.459Z'
---

# Prolog 3 - Unification
* Unification is fundamental for executing of Prolog programs
* Unification is a two way matching process
* Try to make two sides of an equation equal
* Try to find variable substitutions that make sides identical

### General vs Specific
  * Consider X = Y
  * There is exactly one **most general** way to make X = Y true
  * Set one of the variables as identical to the other

### Substitution
  * A substitution $w = X_1/t_1 ... X_n/t_n$ is a mapping
  * $X_1,...X_n$ are distince variables
  * $t_1,...t_n$ are terms
  * Replace a variable by some other term
  * Can substitute several variables at once
  * Examples
    * Substitution $w={X/b,Y/f(Z)}$
    * Term t = $f(X,g(Y))$
    * w(t) = result of appling w to t:
    * $w(t) = f(b,g(f(Z)))$


### Unifier
  * Definition:**unifier** of two terms C1 and C2:
    A substitution w such that $w(C1) = w(C2)$
  * A unifier of two terms make them identical after the substitution
  * **Unifiable**: Objects t1 and t2, if there exist a unifier for them
  * Examples:
  ![Similar Features](@attachment/cmput325/unifier.png)
  * Most general unifier
     * Given two unifier terms $t1$ and $t2$:
    There always exists a most general unifier for $t1$ and $t2$
      * example
        1. $w=${$Z/f(a,Y),X/a$}
        2. $w'=${$Z/f(a,b),X/a,Y/b$}
        The second unifier is more general than first one since w can **_NOT_** be obtained from w' No way back from constant b to make it a variable Y again
  
### Unification Algorithm
  * $t1 = p(f(g(X,a)),X)$
    $t2 = p(f(Y,b))$
  1. Match outside-most predicate or function and arity
  2. Then match each argument recursively
  3. Keep tracking of substitutions that are needed
  * A substitution generated by this algorithm is the most general unifier for the terms in both sides of the original equation
  * The order of solving equations does not matter


### Occurs Check
  * An equation cannot be solved if it has a variable **on one side only**
  * Or it has a term containing that variable on the other side
  * Checking cases such as Y == f(g(Y)) during unification is called the **occurs check**
  * **SWI Prolog default: no occurs check**

